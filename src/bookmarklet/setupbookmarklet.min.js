!function(){if(location.href.indexOf("mousehuntgame.com")<0)alert("You are not on mousehuntgame.com! Please try again.");else{var l=document.querySelector("a.campPage-trap-armedItem.base"),m=document.querySelector("a.campPage-trap-armedItem.weapon"),u=document.querySelector("a.campPage-trap-armedItem.trinket");l&&m&&u?function(){l.click();var e=setTimeout(function(){newWindow.close(),clearInterval(t),alert("XHR timed out after 10 seconds - please check your connection and try again")},1e4),t=setInterval(function(){document.querySelector("div.campPage-trap-itemBrowser.base")&&(clearTimeout(e),clearInterval(t),function(){function e(){var e=document.querySelectorAll(".campPage-trap-itemBrowser-items .campPage-trap-itemBrowser-item-name");return Array.prototype.map.call(e,function(e){return e.textContent}).filter(function(e,t,a){return t==a.indexOf(e)})}l.click();var t=e();console.log("Number of bases: "+t.length),m.click();var a=e();console.log("Number of weapons: "+a.length),u.click();var r=e();console.log("Number of charms: "+r.length);var o=document.querySelector("a.campPage-trap-blueprint-closeButton");o&&o.click();var n={};n.bases=t,n.weapons=a,n.charms=r;var c=window.open("");c.location="https://tsitu.github.io/MH-Tools/setup.html",c.name=JSON.stringify(n)}())},100)}():alert("Please ensure that you have FreshCoat enabled in Support -> User Preferences, then navigate to the Camp page!")}}();