!function(){function t(){var t=document.querySelector("div.history-details .paginate_button.next");if(t.className.indexOf("disabled")<0||parseInt(document.querySelector("div.history-details .paginate_button.current").innerHTML)==u){for(var i=document.querySelectorAll(o+" .sorting_1, "+o+" .item-name, "+o+" .numeric.quantity, "+o+" .numeric, "+o+" .numeric.total"),a=document.querySelectorAll(l+" .sorting_1, "+l+" .item-name, "+l+" .numeric.quantity, "+l+" .numeric, "+l+" .numeric.total"),r=[],s=[],y=0;y<i.length/5;y++)0==y?r.push("Sell "+i[y].textContent+" "+i[y+1].textContent.split(" ").length+" "+i[y+1].textContent+" "+i[y+2].textContent+" "+i[y+3].textContent+" "+i[y+4].textContent):r.push("Sell "+i[5*y].textContent+" "+i[5*y+1].textContent.split(" ").length+" "+i[5*y+1].textContent+" "+i[5*y+2].textContent+" "+i[5*y+3].textContent+" "+i[5*y+4].textContent);for(y=0;y<a.length/5;y++)0==y?s.push("Buy "+a[y].textContent+" "+a[y+1].textContent.split(" ").length+" "+a[y+1].textContent+" "+a[y+2].textContent+" "+a[y+3].textContent+" "+a[y+4].textContent):s.push("Buy "+a[5*y].textContent+" "+a[5*y+1].textContent.split(" ").length+" "+a[5*y+1].textContent+" "+a[5*y+2].textContent+" "+a[5*y+3].textContent+" "+a[5*y+4].textContent);r.length>0&&(n+=encodeURI(r.join("/")),n+="/"),s.length>0&&(n+=encodeURI(s.join("/")),n+="/"),++d==c?(console.log("Parse complete!"),n+="&isDone=true",g.location=n,clearTimeout(h),clearInterval(m)):(d%2==0&&(n+="&isDone=false",g.location=n,n="https://tsitu.github.io/MH-Tools/analyzer.html?data="),t.click(),e())}else null==t?console.log("Next button is null."):null==document.querySelector("div.history-details .paginate_button.current")?console.log("Current button is null."):console.log("Unknown error.")}function e(){m=setInterval(function(){y!=document.querySelector("div.history-details .dataTables_info").innerHTML&&(y=document.querySelector("div.history-details .dataTables_info").innerHTML,clearTimeout(h),clearInterval(m),t())},100),h=setTimeout(function(){g.close(),clearInterval(m),alert("Parse timed out! Please check your connection and try again.")},4e3)}if(location.href.indexOf("mousehuntgame.com")<0)alert("You are not on mousehuntgame.com! Please try again.");else{var n="https://tsitu.github.io/MH-Tools/analyzer.html?data=",o="div.history-details .dataTable .sell",l="div.history-details .dataTable .buy";if(null!=document.querySelector("div.history-details .paginate_button.current")){var i=parseInt(document.querySelector("div.history-details .paginate_button.current").innerHTML),a=document.querySelector("div.history-details .dataTables_info").innerHTML,r=a.slice(a.indexOf("of")+3,a.length),s=parseInt(r.slice(0,r.indexOf("entries")).replace(/,/g,"")),u=Math.ceil(s/10),c=u-i+1;console.log("Total Pages: "+u+" | Iterations: "+c);var d=0,h="",m="",y="",g=window.open("","mhanalyzer");g.location="https://tsitu.github.io/MH-Tools/analyzerwaiting.html",e()}else alert("Please navigate to Marketplace -> My History")}}();